!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(1);var i=[{id:1,name:"SamPhone X9",amount:5,value:1250,desc:"It's like a fusion of Iphane and Samsong."},{id:2,name:'TV MX3000 300"',amount:3,value:3e3,desc:"Biggest TV you can imagine."},{id:3,name:"coÅ›",amount:3,value:3e3,desc:"opis cosia"}],r={init:function(t){return this.stuff=t,this.cart={products:[],productsIDs:[]},this.cartValue=0,this.stuffSelect=document.querySelector("#stuffSelect"),this.addStuffForm=document.querySelector("#addStuffForm"),this.cartElement=document.querySelector("#cart"),this.price=document.querySelector("#price"),this.description=document.querySelector("#description"),this.warning=document.querySelector("#warning"),this.cartValueElement=document.querySelector("#cartValue"),this.stuffSelect.addEventListener("change",this.onStuffChange),this.addStuffForm.addEventListener("submit",this.onStuffAdd),this.populateStuffSelect(),this.showPrice(0),this.showDescription(0),this},populateStuffSelect:function(){var t=this;this.stuffSelect.innerHTML="",this.stuff.forEach(function(e){t.addBuyOption(e)})},addBuyOption:function(t){var e=document.createElement("option");return e.setAttribute("value",t.name),e.innerHTML="".concat(t.name," (").concat(t.amount,")"),this.stuffSelect.appendChild(e),this},isAvailable:function(t){return this.stuff[t].amount>0},showWarning:function(){this.warning.innerHTML="You can't buy this product anymore. It is no longer in stock."},hideWarning:function(){this.warning.innerHTML=""},addToCart:function(t){var e=t||this.stuffSelect.selectedIndex,n={id:this.stuff[e].id,name:this.stuff[e].name,price:this.stuff[e].value,amount:1};if(this.isAvailable(e)){if(this.cart.productsIDs.includes(n.id)){var i=this.cart.productsIDs.indexOf(n.id);this.cart.products[i].amount++}else this.cart.products.push(n),this.cart.productsIDs.push(n.id);console.log(this.cart),this.stuff[e].amount--,this.populateStuffSelect(),this.updateCartValue(this.stuff[e].value)}else this.showWarning();return this},updateCart:function(){var t=this;return this.cartElement.innerHTML="",this.cart.products.forEach(function(e){var n=document.createElement("li");n.classList.add("cart__item");var i=document.createElement("span"),r=document.createElement("span");r.classList.add("item__price");var a=document.createElement("span");a.classList.add("item__amount"),i.innerHTML=e.name,r.innerHTML="USD ".concat(e.price),a.innerHTML="".concat(e.amount," pcs"),n.appendChild(i),n.appendChild(r),n.appendChild(a),t.cartElement.appendChild(n)}),this},showPrice:function(t){this.price.innerHTML="".concat(i[t].value," USD")},showDescription:function(t){this.description.innerHTML=i[t].desc},updateCartValue:function(t){return t&&(this.cartValue+=t),this.cartValueElement.innerHTML="USD ".concat(this.cartValue),this},onStuffChange:function(){r.showPrice(r.stuffSelect.selectedIndex),r.showDescription(r.stuffSelect.selectedIndex),r.isAvailable(r.stuffSelect.selectedIndex)?r.hideWarning():r.showWarning()},onStuffAdd:function(t){t.preventDefault(),r.addToCart.call(r),r.updateCart()}};r.init(i).addToCart().addToCart(1).updateCart()},function(t,e,n){}]);