!function(t){var e={};function n(a){if(e[a])return e[a].exports;var c=e[a]={i:a,l:!1,exports:{}};return t[a].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)n.d(a,c,function(e){return t[e]}.bind(null,c));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);var a,c,i={products:document.createElement("section"),render:function(){var t=document.querySelector(".main-content");this.products.classList.add("main-content__products"),this.products.innerHTML='\n            <h2 class="products__header">Please add things you want to buy:</h2>\n    \n            <form class="products__form" id="addStuffForm" action="#">\n                <label class="form__label" for="stuffSelect">Stuff:</label>\n                <div class="form__custom-select">\n                    <select class="form__select" name="stuff" id="stuffSelect"></select>\n                </div>\n                <button class="form__button" type="submit">Add</button>\n            </form>\n    \n            <p class="products__warning" id="warning"></p>\n            <p class="products__price">Price: <span id="price"></span></p>\n            <p class="products__description">Description: <span id="description"></span></p>\n        ',t.appendChild(this.products)},remove:function(){this.products.remove()}},r={cart:document.createElement("section"),render:function(){var t=document.querySelector(".main-content");this.cart.classList.add("main-content__cart"),this.cart.innerHTML='\n            <h2 class="cart__header">Stuff I want to buy:</h2>\n            <ul id="cart" class="cart__list"></ul>\n            <p class="cart__value">Cart\'s value: <span id="cartValue"></span></p>\n            \n            <button class="cart__checkout-button" id="checkout">checkout</button>\n        ',t.appendChild(this.cart)},remove:function(){this.cart.remove()}},s={render:function(){var t=document.querySelector(".main-content"),e=document.createElement("section");e.classList.add("main-content__summary"),e.innerHTML='\n            <h2 class="summary__header">Congratulations! You just bought:</h2>\n            <ul id="summary" class="summary__list"></ul>\n            <p class="summary__par">Come back to us soon!</p>\n        ',t.appendChild(e)}},o={init:function(t){return this.cartSection=r,this.productsSection=i,this.summarySection=s,this.stuff=t,this.cart={products:[],productsIDs:[]},this.cartValue=0,this.productsSection.render(),this.cartSection.render(),this.stuffSelect=document.querySelector("#stuffSelect"),this.addStuffForm=document.querySelector("#addStuffForm"),this.cartElement=document.querySelector("#cart"),this.price=document.querySelector("#price"),this.description=document.querySelector("#description"),this.warning=document.querySelector("#warning"),this.cartValueElement=document.querySelector("#cartValue"),this.checkoutBtn=document.querySelector("#checkout"),this.stuffSelect.addEventListener("change",this.onStuffChange),this.addStuffForm.addEventListener("submit",this.onStuffAdd),this.checkoutBtn.addEventListener("click",this.onCheckout),this.populateStuffSelect(),this.showPrice(0),this.showDescription(0),this},populateStuffSelect:function(){var t=this;this.stuffSelect.innerHTML="",this.stuff.forEach(function(e){t.addBuyOption(e)})},addBuyOption:function(t){var e=document.createElement("option");return e.setAttribute("value",t.name),e.innerHTML="".concat(t.name," (").concat(t.amount,")"),this.stuffSelect.appendChild(e),this},isAvailable:function(t){return this.stuff[t].amount>0},showWarning:function(){this.warning.innerHTML="You can't buy this product anymore. It is no longer in stock."},hideWarning:function(){this.warning.innerHTML=""},addToCart:function(t){var e=t||this.stuffSelect.selectedIndex,n={id:this.stuff[e].id,name:this.stuff[e].name,price:this.stuff[e].value,amount:1};if(this.isAvailable(e)){if(this.cart.productsIDs.includes(n.id)){var a=this.cart.productsIDs.indexOf(n.id);this.cart.products[a].amount++}else this.cart.products.push(n),this.cart.productsIDs.push(n.id);this.stuff[e].amount--,this.populateStuffSelect(),this.updateCartValue(this.stuff[e].value)}else this.showWarning();return this},updateCart:function(){var t=this;return this.cartElement.innerHTML="",this.cart.products.forEach(function(e){var n=document.createElement("li");n.classList.add("cart__item");var a=document.createElement("span");a.classList.add("item__description");var c=document.createElement("span");c.classList.add("item__price");var i=document.createElement("span");i.classList.add("item__amount"),a.innerHTML=e.name,c.innerHTML="USD ".concat(e.price),i.innerHTML="".concat(e.amount," pcs"),n.appendChild(a),n.appendChild(c),n.appendChild(i),t.cartElement.appendChild(n)}),this},showPrice:function(t){this.price.innerHTML="USD ".concat(this.stuff[t].value)},showDescription:function(t){this.description.innerHTML=this.stuff[t].desc},updateCartValue:function(t){return t&&(this.cartValue+=t),this.cartValueElement.innerHTML="USD ".concat(this.cartValue),this},sumUpShopping:function(){o.summary=document.querySelector("#summary"),this.cart.products.forEach(function(t){var e=document.createElement("li");e.classList.add("summary__item");var n=document.createElement("span");n.classList.add("item__description");var a=document.createElement("span");a.classList.add("item__amount"),n.innerHTML=t.name,a.innerHTML="".concat(t.amount," pcs"),e.appendChild(n),e.appendChild(a),o.summary.appendChild(e)})},onStuffChange:function(){o.showPrice(o.stuffSelect.selectedIndex),o.showDescription(o.stuffSelect.selectedIndex),o.isAvailable(o.stuffSelect.selectedIndex)?o.hideWarning():o.showWarning()},onStuffAdd:function(t){t.preventDefault(),o.addToCart.call(o),o.updateCart()},onCheckout:function(){o.cartSection.remove(),o.productsSection.remove(),o.summarySection.render(),o.sumUpShopping()}};a=document.body,(c=document.createElement("div")).classList.add("container"),a.appendChild(c),function(){var t=document.querySelector(".container"),e=document.createElement("header");e.classList.add("header"),e.innerHTML='\n        <h1 class="header__title">- Little Stuff Shop -</h1>\n        <h4 class="header__subtitle">Buy what you want and feel happy</h4>\n        <img class="header__logo" src="https://imageshack.com/a/img923/9881/F0N9Z0.png" alt="Shop with window and doors">\n    ',t.appendChild(e)}(),function(){var t=document.querySelector(".container"),e=document.createElement("main");e.classList.add("main-content"),t.appendChild(e)}(),o.init([{id:1,name:"SamPhone X9",amount:5,value:1250,desc:"It's like a fusion of Iphane and Samsong."},{id:2,name:'TV MX3000 300"',amount:3,value:3e3,desc:"Biggest TV you can imagine."},{id:3,name:'MacBoot 9"',amount:1,value:1e3,desc:"More comfortable than any other boot."}]).addToCart().addToCart(1).updateCart()}]);